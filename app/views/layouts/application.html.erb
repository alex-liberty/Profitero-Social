<!DOCTYPE html>
<html>
<head>
  <title>Google Auth Example App</title>
  <script src="https://js.pusher.com/4.1/pusher.min.js"></script>
  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>
</head>
<body>
<div>
  <% if current_user %>
    Signed in as <strong><%= current_user.name %></strong>!
    <%= link_to "Sign out", signout_path, id: "sign_out" %>
  <% else %>
    <%= link_to "Sign in with Google", "/auth/google_oauth2", id: "sign_in" %>
  <% end %>
</div>
<div>
  <ul>
    <% categories_list.each do |cat| %>
      <li><%= link_to cat.name, cards_path(category_id: cat.id) %></li>
    <% end %>
  </ul>
  <% if current_user %>
    <%= yield %>
  <% else %>
    please login first
  <% end %>
</div>
</body>
</html>